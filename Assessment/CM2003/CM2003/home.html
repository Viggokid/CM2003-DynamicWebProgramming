<!DOCTYPE html>
<html>
    <!---Header--->
    <head>
        <link rel="stylesheet" type="text/css" href="css.css">
        <title>CM2003</title>
    </head>
    <!---End of Header--->
    <body>
        <!---Header bars--->
        <div id = "head-bar">
            <div class = "header">
                <h1>CM2003</h1>

                <img class = "icon" width = 50 height = 50 src="http://bestcoverphoto.com/wp-content/uploads/coverphotos/River-Source-Nature-Ruda-facebook-cover-photos-250x250.jpg">

            </div>

            <!---Navigation Bar--->
            <div class= "navbar">
                <ul>
                    <li><a href="home.html" >Home</a></li>
                    <li><a href="map.html">Map</a></li>
                    <li><a href="story.html">Historical Stories</a></li>
                    <li><a href="album.html">Album</a></li>
                </ul>
            </div>
            <!--- End of Navigation --->
        </div>
        <!---End of Headers--->
        <div id ="page">

            <div id="homeStuff">
                <!---Slideshow--->
                <div id = "navSlide">
                    <ul>
                        <!---Images in Slideshow--->
                        <li><img class = "navPic" src="img1.jpg" width="1400" height="440" /></li>
                        <li><img class = "navPic" src="img2.jpg" width="1400" height="440" /></li>
                        <li><img class = "navPic" src="img3.jpg" width="1400" height="440" /></li>
                    </ul>
                    <span class="button nextButton"></span>
                    <span class="button prevButton"></span>
                </div>
                <!---End of Slideshow--->

                <!---About Section--->
                <div id = "about">
                    <p><b>About</b></p>
                    <p>"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
                        "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
                        "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
                    </p>
                </div>
                <!---End of About Section--->

            </div>
        </div>
    </body>

    <!---JavaScript for Slideshow--->
    <script src="jquery-1.4.2.min.js"></script>

    <script>
        $(window).load(function () {
            var pages = $('#navSlide li'), current = 0;
            var currentPage, nextPage;
            var timeoutID;
            var buttonClicked = 0;

            var handler1 = function () {
                buttonClicked = 1;
                $('#navSlide .button').unbind('click');
                currentPage = pages.eq(current);
                if ($(this).hasClass('prevButton'))
                {
                    if (current <= 0)
                        current = pages.length - 1;
                    else
                        current = current - 1;
                    nextPage = pages.eq(current);

                    nextPage.css("marginLeft", -1400);
                    nextPage.show();
                    nextPage.animate({marginLeft: 0}, 800, function () {
                        currentPage.hide();
                    });
                    currentPage.animate({marginLeft: 604}, 800, function () {
                        $('#navSlide .button').bind('click', handler1);
                    });
                }
                else
                {

                    if (current >= pages.length - 1)
                        current = 0;
                    else
                        current = current + 1;
                    nextPage = pages.eq(current);

                    nextPage.css("marginLeft", 604);
                    nextPage.show();
                    nextPage.animate({marginLeft: 0}, 800, function () {
                    });
                    currentPage.animate({marginLeft: -1400}, 800, function () {
                        currentPage.hide();
                        $('#navSlide .button').bind('click', handler1);
                    });
                }
            }

            var handler2 = function () {
                if (buttonClicked == 0)
                {
                    $('#navSlide .button').unbind('click');
                    currentPage = pages.eq(current);
                    if (current >= pages.length - 1)
                        current = 0;
                    else
                        current = current + 1;
                    nextPage = pages.eq(current);
                    nextPage.css("marginLeft", 1400);
                    nextPage.show();
                    nextPage.animate({marginLeft: 0}, 800, function () {
                    });
                    currentPage.animate({marginLeft: -1400}, 800, function () {
                        currentPage.hide();
                        $('#navSlide .button').bind('click', handler1);
                    });
                    timeoutID = setTimeout(function () {
                        handler2();
                    }, 4000);
                }
            }

            $('#navSlide .button').click(function () {
                clearTimeout(timeoutID);
                handler1();
            });

            timeoutID = setTimeout(function () {
                handler2();
            }, 4000);

        });

    </script>
    <!---End of JavaScript--->

</html>